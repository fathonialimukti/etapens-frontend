import{a as f,p as _}from"./endpoint.aea53914.js";import{_ as V,d as r,f as e,a as c,c as m,aj as b,w as d,F as v,e as s,o,r as D,t as i,b as u}from"./index.23a29a87.js";const A={data(){return{data:void 0,itemPerPage:25,totalPage:null,page:null,name:null,isActive:"All",loading:!1}},beforeMount(){this.getData()},methods:{async getData(){this.loading=!0;const l={};this.itemPerPage&&(l.itemPerPage=this.itemPerPage),this.name&&(l.name=this.name),this.isActive&&(l.isActive=this.isActive),f.get(_+"admin/list-database",{params:l}).then(n=>{this.data=n.data.data,this.totalPage=n.data.totalPage}),this.loading=!1},async deploy(l){console.log(l),this.activate(l.id)},async activate(l){this.loading=!0,f.patch(_+"admin/activate-database",{id:l}).then(()=>this.getData()).catch(function(n){console.log(n)}),this.getData(),this.loading=!1}},watch:{isActive(){this.getData()},itemPerPage(){this.getData()}}},C={class:"grid md:grid-cols-9 gap-2"},w=e("thead",null,[e("tr",null,[e("th",{class:"text-left"},[e("h1",{class:"font-bold text-lg"},"Student")]),e("th",{class:"text-left"},[e("h1",{class:"font-bold text-lg"},"Database Name")]),e("th",{class:"text-left"},[e("h1",{class:"font-bold text-lg"},"Type")]),e("th",{class:"text-left"},[e("h1",{class:"font-bold text-lg"},"Creds")]),e("th",{class:"text-left"},[e("h1",{class:"font-bold text-lg"},"Status")])])],-1),N=["href"],S={key:1},B={class:"font-bold"};function T(l,n,U,j,a,p){const g=s("v-select"),x=s("v-text-field"),y=s("v-progress-linear"),h=s("v-btn"),P=s("v-chip"),k=s("v-table");return o(),r(v,null,[e("div",C,[c(g,{modelValue:a.itemPerPage,"onUpdate:modelValue":n[0]||(n[0]=t=>a.itemPerPage=t),label:"Item per Page",class:"md:col-span-2",items:[12,25,50],"prepend-inner-icon":"mdi-format-list-numbered"},null,8,["modelValue"]),c(g,{modelValue:a.name,"onUpdate:modelValue":n[1]||(n[1]=t=>a.name=t),label:"Status",class:"md:col-span-2",items:["All","Active","Inactive"],"prepend-inner-icon":"mdi-list-status"},null,8,["modelValue"]),c(x,{modelValue:l.title,"onUpdate:modelValue":n[2]||(n[2]=t=>l.title=t),label:"Title",class:"md:col-span-5",onChange:p.getData,"prepend-inner-icon":"mdi-book-search-outline"},null,8,["modelValue","onChange"])]),a.loading?(o(),m(y,{key:0,indeterminate:"",color:"green"})):b("",!0),c(k,{"fixed-header":""},{default:d(()=>[w,e("tbody",null,[(o(!0),r(v,null,D(a.data,t=>(o(),r("tr",{key:t.id},[e("td",null,i(t.student.name),1),e("td",null,i(t.name),1),e("td",null,[t.sourceCode?(o(),r("a",{key:0,href:t.sourceCode,target:"_blank"},[c(h,{color:"warning"},{default:d(()=>[u(i(t.type),1)]),_:2},1024)],8,N)):(o(),r("p",S,i(t.type),1))]),e("td",null,[e("p",B,i(t.username),1),e("p",null,i(t.password),1)]),e("td",null,[t.isActive?(o(),m(P,{key:1,color:"green","text-color":"white"},{default:d(()=>[u(" Active ")]),_:1})):(o(),m(h,{key:0,onClick:F=>p.deploy(t),color:"error",size:"small",rounded:"pill"},{default:d(()=>[u(" Deploy ")]),_:2},1032,["onClick"]))])]))),128))])]),_:1})],64)}const z=V(A,[["render",T]]);export{z as default};
